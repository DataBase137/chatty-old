"use client"

import { useEffect, useRef } from "react";
import styles from "./page.module.css";
import Navbar from "./navbar";
import { FaChevronDown } from "react-icons/fa";
import { useRouter } from "next/navigation";

const Page = () => {
  const router = useRouter();
  const scroll = useRef();
  const typewriterElement = useRef();

  const TypeWriter = function (txtElement, words, wait = 5000) {
    this.txtElement = txtElement;
    this.words = words;
    this.txt = '';
    this.wordIndex = 0;
    this.wait = parseInt(wait, 10);
    this.type();
    this.isDeleting = false;
  };

  TypeWriter.prototype.type = function () {
    const current = this.wordIndex % this.words.length;
    const fullTxt = this.words[current];

    if (this.isDeleting) {
      this.txt = fullTxt.substring(0, this.txt.length - 1);
    } else {
      this.txt = fullTxt.substring(0, this.txt.length + 1);
    };

    this.txtElement.innerHTML = `<span>${this.txt}<span></span></span>`;

    let typeSpeed = 250;

    if (this.isDeleting) {
      typeSpeed /= 2;
    };

    if (!this.isDeleting && this.txt === fullTxt) {
      typeSpeed = this.wait;
      this.isDeleting = true;
    } else if (this.isDeleting && this.txt === '') {
      this.isDeleting = false;
      this.wordIndex++;
      typeSpeed = 1000;
    };

    setTimeout(() => this.type(), typeSpeed)
  };

  const init = () => {
    if (typewriterElement.current) {
      const txtElement = document.querySelector("#txt-type");
      const words = JSON.parse(txtElement.getAttribute("data-words"));
      const wait = txtElement.getAttribute("data-wait");
      new TypeWriter(txtElement, words, wait);
    } else {
      setTimeout(() => {
        init();
      }, 500);
    }
  };

  useEffect(() => {
      init();
  }, []);

  return (
    <>
      <div className={styles.container}>
        <Navbar type="home" />
        <div className={styles.downArrowContainer}>
          <FaChevronDown className={styles.downArrow} onClick={() => { scroll.current.scrollIntoView(true) }} />
        </div>
        <div className={styles.topLeft}>
          <div className={styles.topContent}>
            <span className={styles.txtType} ref={typewriterElement} id="txt-type" data-wait="2000" data-words='["Connect", "Meet", "Talk"]'><span></span></span>
            <p className={styles.slogan}>Contact <span>family</span>. Chat with <span>friends</span>. All with one click.</p>
            <button className={styles.btn} onClick={() => router.push("/signup")}>Sign Up</button>
          </div>
        </div>
        <div className={styles.topRight}>
          <svg viewBox="17.11216216216219 -21.799999999999997 381.35675675675674 588.5999999999999" fill="none" xmlns="http://www.w3.org/2000/svg" overflow="visible" width="353.10810810810807px" height="544.9999999999999px"><rect id="Blush Background Color" x="17.11216216216219" y="-21.799999999999997" width="381.35675675675674" height="588.5999999999999"/><g id="Master/Composition/Phone"><g id="Background" opacity="0.2"><circle id="Oval" cx="200.851" cy="197.267" r="154.851" fill="#FFA434"/><circle id="Oval" cx="295.109" cy="517.069" r="27.604" fill="#393f82"/><path id="Polygon" fill-rule="evenodd" clip-rule="evenodd" d="M175.277 -0.0197754L208.277 32.9802L175.277 65.9802L142.277 32.9802L175.277 -0.0197754Z" fill="#393f82"/><path id="Polygon" fill-rule="evenodd" clip-rule="evenodd" d="M83.7029 464.554L99.8613 480.713L83.7029 496.871L67.5444 480.713L83.7029 464.554Z" fill="#FFA434"/><path id="Polygon_2" fill-rule="evenodd" clip-rule="evenodd" d="M317.327 42.4159L325.406 50.4951L317.327 58.5743L309.248 50.4951L317.327 42.4159Z" fill="#2026A2"/></g><g id="Phone"><path id="base" fill-rule="evenodd" clip-rule="evenodd" d="M55.515 79.1982L175.351 75.0134C188.896 74.5404 200.26 85.1375 200.733 98.6826L211.144 396.826C211.617 410.371 201.02 421.735 187.475 422.208L67.6393 426.392C54.0941 426.865 42.7302 416.268 42.2572 402.723L31.8458 104.58C31.3728 91.0351 41.9699 79.6712 55.515 79.1982Z" fill="#F2F2F2"/><path id="Screen" fill-rule="evenodd" clip-rule="evenodd" d="M74.4058 88.678C74.5813 93.7053 78.7281 97.6576 83.726 97.6253L83.9946 97.6197L148.201 95.3776C153.228 95.202 157.181 91.0552 157.148 86.0573L157.143 85.7888L157.048 83.063L175.895 82.4049C184.925 82.0895 192.501 89.1542 192.816 98.1843L203.265 397.417C203.581 406.447 196.516 414.023 187.486 414.338L66.5909 418.56C57.5608 418.875 49.9849 411.81 49.6695 402.78L39.2201 103.548C38.9048 94.5179 45.9695 86.942 54.9996 86.6266L74.3106 85.9523L74.4058 88.678Z" fill="#240E6A"/></g><g id="Character"><g id="Head/Front" transform="matrix(-0.891007 -0.45399 -0.45399 0.891007 380.113 241.778) scale(0.6732673084034639 0.6732672911423904)"><g id="Head/Front/Wavy"><g id="Head"><path id="SKIN" fill-rule="evenodd" clip-rule="evenodd" d="M92.1433 40.1339C97.9382 50.9351 97.2496 78.333 89.7603 80.2635C86.7737 81.0333 80.4113 79.1476 73.9359 75.2446L78 104H54L62.2616 65.4893C57.6541 60.0807 54.5357 53.4525 55.0568 46.0255C56.5583 24.625 86.3485 29.3328 92.1433 40.1339Z" fill="#d4a181"/></g><path id="hair" fill-rule="evenodd" clip-rule="evenodd" d="M94.4091 44.9836C94.1714 43.5836 93.5904 42.0288 93.1216 40.7043C92.5172 38.9967 91.6025 37.4571 90.5959 36.0061C88.7009 33.2744 86.4276 30.8075 83.9176 28.7601C79.3328 25.0202 73.4966 22.8631 67.7574 23.5636C64.8597 23.9173 62.0468 25.0226 59.6525 26.8624C57.4894 28.5246 55.4087 30.9716 52.6077 31.1474C49.56 31.3385 46.7662 28.6485 44.322 26.9871C41.566 25.1141 38.6342 23.7493 35.4132 23.2188C30.0173 22.3304 24.9482 24.1534 21.2294 28.5805C17.2722 33.2916 14.3955 40.2003 16.9943 46.4425C17.4773 47.6028 18.0988 48.581 18.9907 49.3918C19.8086 50.1353 21.0579 50.9263 21.3895 52.1142C21.7418 53.3769 20.6895 55.006 20.2815 56.1454C19.6969 57.7778 19.2169 59.4913 19.3876 61.2656C19.6679 64.1795 21.4991 66.9612 23.4327 68.8765C25.4004 70.8254 27.8222 71.943 30.4089 72.4582C32.1361 72.8022 33.9013 72.992 35.6567 72.8628C36.5281 72.7988 37.2971 72.5567 38.1414 72.3642C38.9625 72.1769 39.4213 72.395 40.1179 72.8453C43.354 74.9373 46.8335 75.7467 50.5701 75.4356C53.7237 75.1729 57.3584 74.4087 59.931 72.248C62.788 69.8482 62.7311 66.5391 62.0588 63.0035C62.7711 63.3565 64.7416 63.5751 63.5641 62.1681C63.0976 61.6108 62.2163 61.384 61.6178 61.0563C60.9209 60.6747 60.2132 60.1814 59.6721 59.5589C57.4869 57.0454 59.6939 51.93 62.4404 51.0871C66.5209 49.8347 67.4345 55.6055 70.3474 57.0982C72.0222 57.9565 73.7742 56.7834 75.029 55.5855C76.7099 53.9809 77.8554 51.8551 78.8445 49.6918C79.6592 47.9103 80.4173 46.1038 81.2477 44.3311C81.6354 43.5033 82.9778 41.1632 82.3037 40.2272C85.2264 39.6444 88.4816 40.859 90.9987 42.4517C92.0391 43.1101 92.8322 43.8361 93.3872 44.9985C93.5061 45.2475 93.7649 45.9879 94.0899 46.0183C94.6949 46.0748 94.4688 45.3354 94.4091 44.9836" fill="#4a312c"/></g></g><g id="Lower Body/Standing" transform="matrix(-1 0 0 1 393.287 337.346) scale(0.6732673136393229 0.6732673166187239)"><g id="Lower Body/Standing/Shorts"><path id="SKIN" fill-rule="evenodd" clip-rule="evenodd" d="M128 0L165.631 123.024L183.86 227.648H198.153L178.891 0H128Z" fill="#d4a181"/><path id="Shadow" fill-rule="evenodd" clip-rule="evenodd" d="M128 0L165.631 123.024L183.86 227.648H198.153L178.891 0H128Z" fill="black" fill-opacity="0.1"/><path id="SKIN" fill-rule="evenodd" clip-rule="evenodd" d="M114.538 0C117.094 67.5469 114.086 102.389 113.514 108.526C112.942 114.663 105.108 154.455 86.5637 229.708L101.794 224.478C131.102 155.459 141.089 119.589 144.45 110.526C147.812 101.463 156.739 64.6208 171.233 0H114.538Z" fill="#d4a181"/><g id="Left [shoe]"><path id="shoe" fill-rule="evenodd" clip-rule="evenodd" d="M89.4496 223.284C88.3779 222.813 87.1043 223.29 86.7051 224.391C85.977 226.398 85 229.409 85 231.106C85 233.811 85.9012 239 85.9012 239C89.0392 239 142.303 239 142.303 239C142.303 239 144.502 231.732 139.765 231.152C135.028 230.573 131.895 230.106 131.895 230.106L105.68 218.419C105.165 218.189 104.563 218.43 104.348 218.951L102.663 223.039C102.663 223.039 98.2782 225.085 95.5367 225.085C93.8677 225.085 91.2457 224.074 89.4496 223.284Z" fill="#E4E4E4"/></g><g id="Right [shoe]"><path id="shoe_2" fill-rule="evenodd" clip-rule="evenodd" d="M183.45 223.284C182.378 222.813 181.104 223.29 180.705 224.391C179.977 226.398 179 229.409 179 231.106C179 233.811 179.901 239 179.901 239C183.039 239 236.303 239 236.303 239C236.303 239 238.502 231.732 233.765 231.152C229.028 230.573 225.895 230.106 225.895 230.106L199.68 218.419C199.165 218.189 198.563 218.43 198.348 218.951L196.663 223.039C196.663 223.039 192.278 225.085 189.537 225.085C187.868 225.085 185.246 224.074 183.45 223.284Z" fill="#E4E4E4"/></g><path id="Bottom" fill-rule="evenodd" clip-rule="evenodd" d="M123 0L139 62.6795H187.87L180.584 0H123Z" fill="#191847"/><path id="Bottom" fill-rule="evenodd" clip-rule="evenodd" d="M114 0C106.103 23.6708 111 62.6795 111 62.6795H160.87L174.584 0L114 0Z" fill="#393f82"/></g></g><g id="Upper Body" transform="matrix(-0.970296 -0.241922 -0.241922 0.970296 397.683 292.194) scale(0.6732673048973083 0.6732673441025026)"><g id="Upper Body/Turtle Neck"><path id="SKIN" fill-rule="evenodd" clip-rule="evenodd" d="M43.398 149.908C46.3285 143.963 60.9699 67.4497 60.9699 67.4497L82.8673 67.5319C82.8673 67.5319 57.8506 148.583 56.308 152.406C54.3041 157.372 57.708 164.587 60.0162 169.48C60.3733 170.237 60.7041 170.938 60.9847 171.567C57.782 173 56.2435 171.268 54.6216 169.442C52.7896 167.379 50.8512 165.197 46.288 167.32C44.525 168.14 42.8567 169.109 41.2269 170.057C35.5969 173.329 30.4249 176.336 23.3891 171.994C22.2737 171.306 21.0514 168.715 24.0047 166.69C31.3624 161.645 41.9654 152.815 43.398 149.908ZM227.821 120.095L199.493 92.4604L190.084 108.74L219.542 126.108C226.928 137.743 231.266 142.77 232.556 141.19C233.643 139.857 233.145 138.396 232.686 137.051C232.328 136.003 231.994 135.025 232.453 134.231C233.5 132.42 239.414 133.457 244.984 134.682C250.554 135.906 249.265 133.17 248.081 131.742C242.817 127.493 236.063 123.611 227.821 120.095Z" fill="#d4a181"/><path id="Clothes Back" fill-rule="evenodd" clip-rule="evenodd" d="M127.695 5.33206L136.342 3.84889C149.964 52.0008 219.953 84.823 224.249 102.823C225.825 109.425 221.074 112.762 223.528 114.772L212.288 123C210.385 120.779 206.323 124.841 197.841 122C189.359 119.159 127.695 62.3479 127.695 5.33206Z" fill="#e87613"/><path id="Clothes Front" fill-rule="evenodd" clip-rule="evenodd" d="M112.316 -4.72105C110.112 -4.87515 108.201 -3.21358 108.046 -1.00982L107.637 4.84783C91.3633 17.3711 51.0297 54.7932 40.5193 124.457C39.4152 131.775 41.4119 135.694 43.0072 138.826C44.0985 140.968 45.002 142.742 44.5967 144.983L59.3064 149.043C59.3064 147.389 61.1603 146.13 63.552 144.506C67.0298 142.145 71.6448 139.012 73.3512 132.767C74.9687 126.848 77.3372 119.454 80.1669 111.229C80.4341 122.122 82.5 132.14 87.0001 140.438C98.2274 161.139 163.109 138.436 169.887 117.318C173.505 106.049 168.372 96.5882 161.584 84.0754C152.967 68.1922 141.683 47.3917 142.241 11.7336L142.961 1.43166C143.115 -0.772099 141.454 -2.68352 139.25 -2.83762L112.316 -4.72105Z" fill="#ffa434"/></g></g></g><g id="illustration"><mask id="mask0_410_633945529bf9-f2ef-4d52-929a-2708ecb779be" className={styles.mask} maskUnits="userSpaceOnUse" x="39" y="0" width="340" height="545" fill="#ffffff"><path id="Screen_2" fill-rule="evenodd" clip-rule="evenodd" d="M187.486 414.338L66.5909 418.56C57.5608 418.875 49.9849 411.81 49.6695 402.78L39.2201 103.548C38.9048 94.518 45.9695 86.942 54.9996 86.6266L83.7029 0L379 0V544.673H249.277C249.277 544.673 189.221 414.277 187.486 414.338Z" /></mask><g mask="url(#mask0_410_633945529bf9-f2ef-4d52-929a-2708ecb779be)"><g id="Head/Front" transform="rotate(44 188.044 20.7349) translate(188.044 20.7349) scale(1.1516185087316178 1.150073271531325)"><g id="Head/Front/Short 2"><g id="Head"><path id="SKIN" fill-rule="evenodd" clip-rule="evenodd" d="M73.9354 75.2443C80.411 79.1475 86.7736 81.0333 89.7603 80.2635C97.2496 78.333 97.9382 50.9351 92.1433 40.1339C86.3485 29.3328 56.5583 24.625 55.0568 46.0255C54.5356 53.4529 57.6544 60.0814 62.2623 65.4901L54 104H78L73.9354 75.2443Z" fill="#d4a181"/></g><path id="Hair" fill-rule="evenodd" clip-rule="evenodd" d="M60.4181 70.3075C57.4059 56.9065 48.8245 47.7714 50.1351 41.7817C51.4457 35.792 57.1213 34.3321 57.1213 34.3321C57.1213 34.3321 60.0567 22.4572 76.0556 24.2304C92.0546 26.0036 101.819 32.6478 97.6025 47.2679C93.7261 47.2679 89.0465 45.866 82.5755 48.2679C79.4957 49.411 78.17 55.358 78.17 55.358H75.2458C75.2458 55.358 70.9887 48.3006 66.8508 50.1712C62.7128 52.0418 64.9695 59.2586 64.9695 59.2586L63.5291 70.3075H60.4181Z" fill="#4a312c"/></g></g><g id="Lower Body/Standing" transform="rotate(12 -72.7554 194.5) translate(-72.7554 194.5) scale(1.151287129720052 1.1521603891540273)"><g id="Lower Body/Standing/Jogging"><path id="SKIN" fill-rule="evenodd" clip-rule="evenodd" d="M130 0L204.306 124.227L260.015 229.25H272.014L178.674 0L130 0Z" fill="#ba8b72"/><g id="Right [shoe]"><path id="shoe" fill-rule="evenodd" clip-rule="evenodd" d="M255.45 223.284C254.378 222.813 253.104 223.29 252.705 224.391C251.977 226.398 251 229.409 251 231.106C251 233.811 251.901 239 251.901 239C255.039 239 308.303 239 308.303 239C308.303 239 310.502 231.732 305.765 231.152C301.028 230.573 297.895 230.106 297.895 230.106L271.68 218.419C271.165 218.189 270.563 218.43 270.348 218.951L268.663 223.039C268.663 223.039 264.278 225.085 261.537 225.085C259.868 225.085 257.246 224.074 255.45 223.284Z" fill="#E4E4E4"/></g><path id="Pant" fill-rule="evenodd" clip-rule="evenodd" d="M244.543 212.433L267.683 205.433C267.683 205.433 252.476 159.971 230.405 105.374C208.335 50.7778 183 0 183 0H117.644C117.644 0 145.811 64.2315 177.366 116.725C208.921 169.219 244.543 212.433 244.543 212.433Z" fill="#191847"/><path id="SKIN" fill-rule="evenodd" clip-rule="evenodd" d="M125.117 0C118.104 43.6542 104.577 99.4275 103.301 101.149C102.45 102.296 71.8127 112.562 11.3899 131.947L13.9818 142.528C86.0359 132.132 124.002 124.066 127.881 118.331C133.699 109.728 162.749 41.7631 174 0H125.117Z" fill="#d4a181"/><path id="Pant" fill-rule="evenodd" clip-rule="evenodd" d="M32.6294 122.8L37.1948 139.842C91.087 144.569 124.108 141.153 136.258 129.596C148.407 118.039 162.254 74.84 177.799 0H115.478C105.629 61.2839 100.123 93.2121 98.96 95.7848C97.7966 98.3574 75.6864 107.363 32.6294 122.8Z" fill="#393f82"/><g id="Left [shoe]"><path id="shoe_2" fill-rule="evenodd" clip-rule="evenodd" d="M15.9311 130.074C16.2095 128.937 15.5182 127.765 14.3648 127.563C12.2611 127.195 9.12692 126.756 7.45574 127.05C4.7919 127.52 -0.162158 129.309 -0.162158 129.309C0.382733 132.399 9.63191 184.854 9.63191 184.854C9.63191 184.854 17.1715 185.757 16.9197 180.991C16.6679 176.226 16.5838 173.059 16.5838 173.059L23.5408 145.213C23.6774 144.667 23.3357 144.115 22.7854 143.994L18.4673 143.044C18.4673 143.044 15.691 139.081 15.215 136.381C14.9252 134.738 15.4647 131.98 15.9311 130.074Z" fill="#E4E4E4"/></g></g></g><g id="Upper Body" transform="rotate(33 50.2139 66.051) translate(50.2139 66.051) scale(1.1516185998916626 1.150073209548379)"><g id="Upper Body/Hoodie"><path id="SKIN" fill-rule="evenodd" clip-rule="evenodd" d="M222.68 115.635L190.781 92.2115L183.73 109.642L215.318 122.741C224.251 133.235 229.246 137.61 230.304 135.865C231.195 134.394 230.499 133.017 229.857 131.749C229.357 130.76 228.89 129.838 229.233 128.989C230.018 127.049 236.019 127.254 241.705 127.691C247.392 128.128 245.735 125.598 244.364 124.349C238.559 120.874 231.331 117.97 222.68 115.635ZM55.398 156.908C58.3285 150.963 68.308 93.0199 68.308 93.0199L89.2054 93.1021C89.2054 93.1021 69.8506 155.583 68.308 159.406C66.3041 164.372 69.708 171.587 72.0162 176.48C72.3733 177.237 72.7041 177.938 72.9847 178.567C69.782 180 68.2435 178.268 66.6216 176.442C64.7896 174.379 62.8512 172.197 58.288 174.319C56.525 175.14 54.8568 176.109 53.2269 177.057C47.5969 180.329 42.4249 183.336 35.3891 178.994C34.2737 178.306 33.0514 175.715 36.0047 173.69C43.3624 168.645 53.9654 159.815 55.398 156.908Z" fill="#d4a181"/><path id="Coat Back" fill-rule="evenodd" clip-rule="evenodd" d="M127.695 5.33203L136.342 3.84886C168.425 31.5643 181.603 84.8089 220.929 113.015L211.464 124.748C143.24 116.3 126.33 51.3548 127.695 5.33203Z" fill="#e87613"/><path id="Shirt" fill-rule="evenodd" clip-rule="evenodd" d="M90 114C90 114 142.008 114 166.511 114C170.008 114 169.349 108.952 168.843 106.404C163.011 77.0038 140.241 45.3115 140.241 3.46073L118.172 0C99.9175 29.3584 93.6048 65.5046 90 114Z" fill="#C7D1D9"/><path id="Coat Front" fill-rule="evenodd" clip-rule="evenodd" d="M81.3968 135C77.9582 143.259 74.5862 150.465 71.4089 156H54.9999C53.2345 98.9186 74.8454 54.9964 92.9315 28.5129C88.9158 28.2259 85.2911 26.5455 82.9999 22.4112C74.9335 7.85608 77.8467 -0.157593 86.4671 -2.79173C91.2074 -4.24021 95.6656 -3.25154 101.002 -2.06804C105.369 -1.09961 110.325 -0.000719281 116.504 2.76336e-08C116.506 2.76336e-08 116.508 2.76336e-08 116.51 2.76336e-08C117.109 2.76336e-08 117.654 0.0401216 118.148 0.116866L125.472 0.53474C125.472 0.53474 155.205 101.305 141.872 135H81.3968Z" fill="#ffa434"/><path id="Shade" fill-rule="evenodd" clip-rule="evenodd" d="M81.397 135C85.9087 124.164 90.5352 111.516 94.9874 98.4544C96.6448 112.839 99.4048 127.286 104 135H81.397Z" fill="black" fill-opacity="0.1"/></g></g></g></g></g></svg>
        </div>
        <svg className={styles.divide} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill-opacity="1" d="M0,96L48,133.3C96,171,192,245,288,234.7C384,224,480,128,576,117.3C672,107,768,181,864,208C960,235,1056,213,1152,176C1248,139,1344,85,1392,58.7L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>
        <svg className={styles.divide2} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill-opacity="1" d="M0,96L48,133.3C96,171,192,245,288,234.7C384,224,480,128,576,117.3C672,107,768,181,864,208C960,235,1056,213,1152,176C1248,139,1344,85,1392,58.7L1440,32L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"></path></svg>
        <div className={styles.bottomLeft} ref={scroll}>
          
        </div>
        <div className={styles.bottomRight}>

        </div>
      </div>
    </>
  );
}

export default Page;